### مرحله اول : ارسال دیتا

در مرحله اول شما می بایست پارامترهای موجود در جدول زیر رو با متد POST به آدرسی که مشخص شده ارسال کنید. به نوع داده ها و نام فیلد توجه کنید.

در صورتی که برای فیلد شماره موبایل، شماره موبایل کاربر را به درگاه ارسال نمایید، بصورت اتوماتیک درگاه موبایلی نمایش داده می شود


::: tip نکته 
تمامی داده های برگشتی از Pay.ir به صورت json می باشد.
:::


``` http request 
method:post 
https://pay.ir/pg/send 
```

### پارامتر

| فیلد  |  نوع  | توضیحات  |
| ------------ | ------------ | ------------ |
|  api  |  String  |   API Key دریافتی از پنل کاربری شما که بعد از تایید درخواست درگاه صادر میشه |
|  amount  |  Integer  |  مبلغ تراکنش به صورت ریالی و بزرگتر یا مساوی 1000  |
|  redirect  |  String  | آدرس بازگشتی به صورت urlencode ، که باید با آدرس درگاه پرداخت تایید شده در Pay.ir بر روی یک دامنه باشد  |
| mobile   | String  | شماره موبایل (اختیاری) (جهت نمایش کارت های خریدار به ایشان و نمایش درگاه موبایلی)  |
| factorNumber  | String  | شماره فاکتور شما (اختیاری)  |
| description   |  String | توضیحات (اختیاری ، حداکثر 255 کاراکتر) |
| merchants   |  String |آرایه ای از آبجکت JSON که حاوی فیلد های mobile (شماره موبایل دریافت کننده سهم) و share_percent (درصد سهم دریافتی به صورت عدد صحیح)|
| validCardNumber  | String  | شماره کارت مجاز برای انجام تراکنش. (اختیاری، بصورت عددی (لاتین) و چسبیده و 16 رقم 6219861012345678)  |


:::: tabs
::: tab  پاسخ دریافتی در صورت صحت اطلاعات ارسالی
```http request
HTTP/1.1 200 OK
{
  "status" : 1,
  "token" : توکن پرداخت
}
```
:::
::::


:::: tabs
::: tab  پاسخ دریافتی در صورت بروز خطا
```http request
HTTP/1.1 422 Error
{
  "status" : 0,
  "errorCode" : کد خطا,
  "errorMessage" : متن پیام خطا
}
```
::::
