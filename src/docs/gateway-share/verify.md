### مرحله چهارم : وریفای تراکنش


در صورتی که مقدار فیلد status دریافت شده در مرحله قبل عدد 1 باشه برای وریفای تراکنش باید کارهای زیر رو انجام بدید. توجه : درصورت عدم وریفای تراکنش وجه پرداختی به حساب پرداخت کننده بعد از 30 دقیقه برگشت داده خواهد شد

:::danger مهم
درصورت موفقیت آمیز بودن تراکنش، با فراخوانی متد وریفای، هر بار پیام وریفای تراکنش اعلام می شود. برای پیشگیری از بروز تقلب پذیرنده باید قبل از ارائه محصول و خدمات با استفاده از شماره تراکنش شبکه پرداخت پی ( همان transId ) از عدم وجود شماره تراکنش در بانک اطلاعاتی خود اطمینان حاصل کند سپس خدمات را به مشتری ارائه نماید.

بدیهیست اگر شماره تراکنش ( transId ) از قبل در بانک اطلاعاتی پذیرنده وجود داشته باشد، نباید خدمات و محصولی به مشتری ارائه شود.

:::

```http request
method:post
https://pay.ir/pg/verify
```

### پارامتر

| فیلد  |  نوع  | توضیحات  |
| ------------ | ------------ | ------------ |
|  api  |  String  |کد api دریافتی از سایت Pay.ir |
|  token  |  String  | token دریافتی از مرحله callback |



:::: tabs
::: tab  پاسخ دریافتی در صورت صحت اطلاعات ارسالی
``` http request
HTTP/1.1 200 OK
```

```json
{
  "status" : 1,
  "amount" : "مبلغ تراکنش",
  "transId" : "شماره تراکنش",
  "factorNumber" : "شماره فاکتور",
  "mobile" : "شماره موبایل",
  "description" : "توضیحات",
  "cardNumber" : "شماره کارت",
  "traceNumber" : "شماره پیگیری",
  "message" : "OK"
}
```
:::
::::